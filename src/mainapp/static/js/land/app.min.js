!function(e,t,i,s){"use strict";var a=function(){return this.init.apply(this,arguments)},l=e("body"),n=e("html,body");a.prototype={defaults:{zoom:!1,response:!1,list:null,group:null,url:"/product/images/",fullscreen:!0,build:!1,method:"POST",reload:!1,dataType:"html",type:"html",onChange:function(){},onLoad:function(){}},tpl:{fullscreen:'<div class="gallery-full-screen" id="gallery-full-screen"><div class="gallery-full-screen__close close-bt" id="closeModal"></div><div class="gallery-full-screen__modal-overlay"><div class="gallery-full-screen__modal-wrapper container"></div><div class="gallery-full-screen__modal-background"></div></div></div>',fullscreenImage:'<div class="gallery-full-screen__image"><img class="image" src="{{src}}" alt="{{alt}}"/></div>',preloader:'<div class="preloader"></div>',region:'<div class="zoom-region"></div>',zoom:'<div class="zoom-bt"></div>',thumbnails:'<div class="gallery__thumbnail-list"></div>',thumbnailItem:'<div class="gallery__thumbnail-item" data-image="{{image}}" data-image-fullscreen="{{fullscreen}}"><img src="{{src}}" alt="{{alt}}"></div>',viewport:'<div class="gallery__viewport"><div class="gallery__zoom"></div><div class="gallery__image"><img src=""></div></div>'},template:function(e,t){for(var i,s=/{{([^}}]+)?}}/g;i=s.exec(e);)e=e.replace(i[0],t[i[1]]);return e},init:function(t,i){this.options=e.extend({},this.defaults,i);var s=this;if(l=e("body"),this.el=t,this.select=null,this.options.build||(this.thumbnailsList=e(".gallery__thumbnail-list",this.el),this.thumbnailsItem=e(".gallery__thumbnail-item",this.thumbnailsList)),this.imageViewer=this.el.find(".gallery__image-viewer"),this.image=this.imageViewer.find(".gallery__image"),this.preloader=e(this.tpl.preloader),this.imageViewer.prepend(this.preloader),"ajax"==this.options.type?this.options.list&&(this.itemList=e(this.options.list)):this.itemList=this.thumbnailsItem,this.itemList){var a=this.itemList.eq(0);a.addClass("active"),e.proxy(this.onChange(a),this),this.itemList.on("click."+r,function(t){t.preventDefault();var i=e(this);i.hasClass("active")||(s.itemList.removeClass("active"),i.addClass("active"),e.proxy(s.onChange(i),s))})}e.proxy(this.render(),this)},render:function(){},onLoad:function(t,i,s){t.attr("href");var a=t.data("image"),l=t.data("label"),o=t.data("image-fullscreen"),h={src:a,alt:l,"data-image-fullscreen":o};s.show(),i.attr(h).hide(),i.data("image-fullscreen",o),this.thumbnailsItem.removeClass("active"),t.addClass("active"),i.load(function(t){e(this).delay(150).fadeIn(300),s.fadeOut(150)}),this.options.fullscreen&&(this.imageViewer.off("click."+r),this.imageViewer.on("click."+r,e.proxy(this.Zoom,this)),n.hasClass("modal-open")&&(this.imageFullscreen.attr({src:o}).hide(),this.preloaderFullscreen.fadeIn()))},onFullscreenLoad:function(){},Zoom:function(){e.proxy(this.CreateModal(),this)},CreateModal:function(){n.addClass("modal-open"),this.modal=e(this.tpl.fullscreen),l.prepend(this.modal);var t=this.modal.find(".gallery-full-screen__modal-wrapper"),i=this.modal.find(".gallery-full-screen__modal-background"),s=this.modal.find(".gallery-full-screen__close");i.on("click."+r,e.proxy(this.CloseModal,this)),s.on("click."+r,e.proxy(this.CloseModal,this));var a=this.preloaderFullscreen=e(this.tpl.preloader);t.prepend(this.preloaderFullscreen.fadeIn()),t.prepend(this.thumbnailsList.detach()),this.modal.find(".gallery-full-screen__modal-wrapper").prepend(this.thumbnailsList.detach());var o={src:this.image.data("image-fullscreen"),alt:"Название картинки"};this.fullscreenImage=e(this.template(this.tpl.fullscreenImage,o)),t.append(this.fullscreenImage),this.imageFullscreen=this.fullscreenImage.find(".image"),this.imageFullscreen.load(function(t){e(this).delay(150).fadeIn(300),a.fadeOut(150)})},CloseModal:function(){n.removeClass("modal-open"),this.el.append(this.thumbnailsList.detach()),this.modal.remove()},Change:function(t){e.proxy(this.onChange(t),this)},onChange:function(t){if(this.preloader.show(),t.find(".colors__input").prop({checked:!0}),"ajax"==this.options.type){null!=this.loadRequest&&4!=this.loadRequest.readyState&&(this.loadRequest.abort(),this.loadRequest=null);var i=this.options.url,s=t.data();s&&(this.loadRequest=e.ajax({url:i,dataType:this.options.dataType,method:this.options.method,data:s,context:this,success:function(i){var s=(i=JSON.parse(i)).images;if("success"==i.status){var a=this;this.target=t,this.data=i,this.thumbnailsList.empty(),s.forEach(e.proxy(function(t,i,s){var a={src:t.thumbnail,image:t.image,fullscreen:t.fullscreen,alt:t.label},l=e(this.template(this.tpl.thumbnailItem,a));this.thumbnailsList.append(l)},this)),this.thumbnailsItem=e(".gallery__thumbnail-item",this.thumbnailsList);var l=this.thumbnailsItem.eq(0);e.proxy(this.onLoad(l,this.image,this.preloader),this),this.thumbnailsItem.on("click."+r,function(){var t=e(this);t.hasClass("active")||(a.thumbnailsItem.removeClass("active"),t.addClass("active"),e.proxy(a.onLoad(t,a.image,a.preloader),a))}),this.options.onChange(this)}else this.target=t,this.preloader.hide(),this.options.onChange(this)}}))}else e.proxy(this.onLoad(t,this.image,this.preloader),this)}};var r="GalleryLeap";e.fn[r]=function(t,i){var s="object"==typeof t&&t;return this.each(function(){var l=e(this),n=e.data(this,r);n||l.data(r,n=new a(l,s)),"string"==typeof t&&(i?n[t](i):n[t]())})}}(jQuery,window,document);
!function(t,e,s,i){"use strict";var o=function(){return this.init.apply(this,arguments)};o.prototype={defaults:{formatData:"json",readColor:"#ff0000",labelClass:"",scroll:!1,defaultStyle:!0,centerMarkers:!0,zoom:13,defaultUI:!0,label:!1,labelText:{address:"Адрес",schedule:"Время работы",phone:"Телефон",email:"Email",more:"Поробнее"},labelStyle:{color:"white",fontWeight:"bold",fontSize:"18px"},lat:null,lng:null,markerImg:"img/marker.png",mainMarkerImg:"img/marker-main.png",styleArray:[]},tpl:{info:'<div class="infomap features"><div class="title">{{title}}</div></div>',feature:'<div class="feature {{class}}"><div class="lable">{{label}}</div><div class="value">{{value}}</div></div>',block:'<div class="{{class}}">{{value}}</div>',more:'<a  href="{{url}}"  class="more">{{text}}</div>',letter:'<i class="letter"></i>',location:'<div class="{{selector}}-location"><div class="caption">{{text}}</div><ul class="{{selector}}-list"></ul></div>'},letterID:function(t){return"ABCDEFGHIKLMNOPQRSTVXYZ".substr(t,1)},template:function(t,e){var s,i;for(s=/{{([^}}]+)?}}/g;i=s.exec(t);)t=t.replace(i[0],e[i[1]]);return t},init:function(e,s){if(this.options=t.extend({},this.defaults,s),this.el=e,this.mapOptions={scrollwheel:this.options.scroll},this.options.defaultStyle){var i={styles:this.options.styleArray};this.mapOptions=t.extend({},this.mapOptions,i)}this.bounds=new google.maps.LatLngBounds,this.map=new google.maps.Map(this.el.get(0),this.mapOptions),this.id=null,this.infowindowopen=null,this.image="",this.markers=[],t.proxy(this.render(),this)},render:function(){if("json"===this.options.formatData)if(this.options.markers)this.options.markers.forEach(t.proxy(function(e,s){t.proxy(this.addMarker(e,s),this)},this));else{var e={lat:this.options.lat,lng:this.options.lng,content:this.options.content};t.proxy(this.addMarker(e,0),this)}this.options.centerMarkers?(this.map.fitBounds(this.bounds),this.map.setZoom(this.map.getZoom()),this.options.zoom?this.map.setZoom(this.options.zoom):this.map.getZoom()>13&&this.map.setZoom(13)):(this.map.setCenter(new google.maps.LatLng(this.options.lat,this.options.lng)),this.map.setZoom(this.options.zoom))},addContent:function(e,s){s.name||(s.name="");var i,o=t(e.template(e.tpl.info,{title:s.name})),a={class:e.options.labelClass};if(s.address&&(a={label:e.options.labelText.address,value:s.address,class:"address"},i=t(e.template(e.tpl.feature,a)),o.append(i)),s.schedule&&(a={label:e.options.labelText.schedule,value:s.schedule,class:"schedule"},i=t(e.template(e.tpl.feature,a)),o.append(i)),s.phone&&(a={label:e.options.labelText.phone,value:s.phone,class:"phone"},i=t(e.template(e.tpl.feature,a)),o.append(i)),s.email&&(a={label:e.options.labelText.email,value:s.email,class:"email"},i=t(e.template(e.tpl.feature,a)),o.append(i)),s.description&&(a={value:s.description,class:"description"},i=t(e.template(e.tpl.block,a)),o.append(i)),s.url){a={url:s.url,text:e.options.labelText.more};var l=t(e.template(e.tpl.more,a));o.append(l)}return o},addMarker:function(e,s){var i=null,o=null;e.content&&(i=this.addContent(this,e.content)),o=e.markerImg?e.markerImg:e.main?this.options.mainMarkerImg:this.options.markerImg;var a={position:{lat:e.lat,lng:e.lng},map:this.map,icon:o,title:e.name,zIndex:e.depth};if(this.options.label){e.id?this.id=e.id.toString():this.id=this.letterID(s);var l=this.options.labelStyle;l.text=this.id,a.label=l}if(i){var n=new google.maps.InfoWindow({content:i.get(0),disableAutoPan:!1}),r=new google.maps.Marker(a);this.map.addListener("click",t.proxy(function(){n.close()},this)),r.addListener("click",t.proxy(function(){this.infowindowopen&&this.infowindowopen.close(),n.open(this.map,r),this.infowindowopen=n},this)),this.bounds.extend(r.getPosition()),this.markers.push(r)}},focus:function(){google.maps.event.trigger(this.markers[id],"click")}};t.fn.GoogleMapLeap=function(e){var s="object"==typeof e&&e;return this.each(function(){var i=t(this),a=t.data(this,"GoogleMapLeap");a||i.data("GoogleMapLeap",a=new o(i,s)),"string"==typeof e&&a[e]()})}}(jQuery,window,document);
$(document).ready(function(){function a(a){console.log(a),e(o.eq(a),s,!1,!0)}function e(a,e,l,t){a.attr("href");var n=a.data("image"),s=a.data("title"),m=a.data("description"),h={src:n,alt:s},u=e.height();c.height(u),e.attr(h).hide(),f.fadeIn(),g.hide(),_.html(s),d.html(m);var v;l?(o.removeClass("gallery__thumbnail_active"),v=t?i:o.index(a),a.addClass("gallery__thumbnail_active"),r.removeClass("gallery__item_active"),r.eq(v).addClass("gallery__item_active")):(v=t?i:r.index(a),r.removeClass("gallery__item_active"),a.addClass("gallery__item_active"),o.removeClass("gallery__thumbnail_active"),o.eq(v).addClass("gallery__thumbnail_active")),t||(i=v),e.on("load",function(a){var l=$(a.target).height();c.stop().animate({height:l},200,function(){(s||m)&&(console.log(s,m),g.slideDown(300)),e.fadeIn(300),c.attr("style",""),f.hide()})})}$(window);var l=$("html, body");$("html");$(".trainers__item").on("click",function(){var a=$(this).data("modal"),e=$(""+a);e.arcticmodal(),e.find(".trainers-modals__close").on("click",function(){e.arcticmodal("close")})}),$(".action__order .bt").on("click",function(a){a.preventDefault();var e=$(this),i=$(e.attr("href"));l.stop().animate({scrollTop:i.offset().top-160},300)});var i=0,t=null,n=$(".action__gallery");if(n.length){var o=n.find(".gallery__thumbnail"),r=n.find(".gallery__item"),c=n.find(".gallery__image"),_=n.find(".gallery__name"),d=n.find(".gallery__description"),s=n.find(".gallery__image img"),f=n.find(".preloader"),g=n.find(".gallery__info"),m=n.find(".gallery__arrow_left"),h=n.find(".gallery__arrow_right");t=o.length-1,console.log(t),m.on("click",function(){--i<0&&(i=t),a(i)}),c.on("click",function(){++i>t&&(i=0),a(i)}),h.on("click",function(){++i>t&&(i=0),a(i)}),o.on("click",function(){e($(this),s,!0,!1)}),r.on("click",function(){e($(this),s,!1,!1)})}});